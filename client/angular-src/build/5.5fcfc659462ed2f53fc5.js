(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{fX0g:function(t,e,b){"use strict";b.r(e),b.d(e,"AlbumsModule",(function(){return R}));var r=b("tk/3"),n=b("fXoL");const c={headers:new r.d({"Content-Type":"application/json"})};let s=(()=>{class t{constructor(t){this.http=t}getAlbums(){return this.http.get("/api/albumsList")}addAlbum(t){return this.http.post("/api/album",t,c)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.b))},t.\u0275prov=n.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o=b("ofXK"),u=b("3Pt+"),a=b("l7P3"),l=b("R0sL");const i=Object(a.n)("[Album Effects] Load Albums"),m=Object(a.n)("[Album Effects] Load Albums Success",Object(a.s)()),p=Object(a.n)("[Album Effects] Load Albums Failure",Object(a.s)()),d=Object(a.n)("[Album Add Component] Add Album",Object(a.s)()),O=Object(a.n)("[Album Add Effect] Add Album Success",Object(a.s)()),f=Object(a.n)("[Album Add Effect] Add Album Failure",Object(a.s)()),j=Object(a.n)("[Post/API] Update Album",Object(a.s)()),g=Object(a.n)("[Post/API] Delete Album",Object(a.s)()),A=Object(a.n)("[Post/API] Clear Albums"),h="albums",v=Object(l.a)({selectId:function(t){return t.ROWID}}),y=v.getInitialState({error:void 0}),J=Object(a.p)(y,Object(a.r)(O,(t,e)=>v.addOne(e.album,t)),Object(a.r)(f,(t,e)=>Object.assign(Object.assign({},t),{error:e.error})),Object(a.r)(m,(t,e)=>v.setAll(e.albums,t)),Object(a.r)(p,(t,e)=>Object.assign(Object.assign({},t),{error:e.error})),Object(a.r)(j,(t,e)=>v.updateOne(e.album,t)),Object(a.r)(g,(t,e)=>v.removeOne(e.id,t)),Object(a.r)(A,t=>v.removeAll(t))),{selectAll:w}=v.getSelectors();var K=b("9jGm"),P=b("mrSG"),S=b("5+tZ"),I=b("lJxs"),C=b("JIr8"),F=b("LRne");let M=(()=>{class t{constructor(t,e){this.actions$=t,this.albumService=e,this.loadAlbums$=Object(K.d)(()=>this.actions$.pipe(Object(K.e)(i),Object(S.a)(()=>this.albumService.getAlbums().pipe(Object(I.a)(t=>m({albums:t.listArr})),Object(C.a)(t=>Object(F.a)(p({error:t.error}))))))),this.addAlbum$=Object(K.d)(()=>this.actions$.pipe(Object(K.e)(d),Object(S.a)(t=>this.albumService.addAlbum(t.album).pipe(Object(I.a)(t=>O({album:t.albumData})),Object(C.a)(t=>Object(F.a)(f({error:t.error})))))))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(K.a),n.Ob(s))},t.\u0275prov=n.Db({token:t,factory:t.\u0275fac}),Object(P.a)([Object(K.b)()],t.prototype,"loadAlbums$",void 0),t})();var E=b("tyNb");const k=Object(a.o)(h),x=Object(a.q)(k,w);let L=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Bb({type:t,selectors:[["app-album-items"]],inputs:{album:"album"},decls:7,vars:1,consts:[[1,"list-group-item"],[1,"btn-group"],["type","button",1,"btn","btn-primary","ml-3"],["type","button",1,"btn","btn-danger","ml-3"]],template:function(t,e){1&t&&(n.Kb(0,"li",0),n.ec(1),n.Kb(2,"div",1),n.Kb(3,"button",2),n.ec(4,"Edit"),n.Jb(),n.Kb(5,"button",3),n.ec(6,"Delete"),n.Jb(),n.Jb(),n.Jb()),2&t&&(n.xb(1),n.gc(" ",e.album.title," "))},styles:["li[_ngcontent-%COMP%]{background:#a8a7a7}li[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin-right:0;position:absolute;right:30px;top:5px}"]}),t})();function $(t,e){1&t&&n.Ib(0,"app-album-items",8),2&t&&n.Xb("album",e.$implicit)}const D=[{path:"list",component:(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.store.dispatch(i()),this.albums=this.store.pipe(Object(a.t)(x))}onSubmit(){this.store.dispatch(d({album:{title:this.title}}))}}return t.\u0275fac=function(e){return new(e||t)(n.Hb(a.h))},t.\u0275cmp=n.Bb({type:t,selectors:[["app-albums"]],decls:12,vars:4,consts:[[1,"mt-5","album-form",3,"ngSubmit"],[1,"form-group"],["for","usr"],["type","text","id","usr","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],[1,"album-form"],[1,"list-group","mt-5"],["class","album-form",3,"album",4,"ngFor","ngForOf"],[1,"album-form",3,"album"]],template:function(t,e){1&t&&(n.Kb(0,"form",0),n.Rb("ngSubmit",(function(){return e.onSubmit()})),n.Kb(1,"div",1),n.Kb(2,"label",2),n.ec(3,"Title:"),n.Jb(),n.Kb(4,"input",3),n.Rb("ngModelChange",(function(t){return e.title=t})),n.Jb(),n.Jb(),n.Kb(5,"button",4),n.ec(6,"Add Album"),n.Jb(),n.Jb(),n.Kb(7,"h1",5),n.ec(8,"Albums"),n.Jb(),n.Kb(9,"ul",6),n.dc(10,$,1,1,"app-album-items",7),n.Ub(11,"async"),n.Jb()),2&t&&(n.xb(4),n.Xb("ngModel",e.title),n.xb(6),n.Xb("ngForOf",n.Vb(11,2,e.albums)))},directives:[u.k,u.d,u.e,u.a,u.h,u.c,u.f,o.i,L],pipes:[o.b],styles:[".album-form[_ngcontent-%COMP%]{width:70%;margin:0 auto}"]}),t})()}];let X=(()=>{class t{}return t.\u0275mod=n.Fb({type:t}),t.\u0275inj=n.Eb({factory:function(e){return new(e||t)},imports:[[E.f.forChild(D)],E.f]}),t})(),R=(()=>{class t{}return t.\u0275mod=n.Fb({type:t}),t.\u0275inj=n.Eb({factory:function(e){return new(e||t)},providers:[s],imports:[[o.c,u.b,X,a.j.forFeature(h,J),K.c.forFeature([M])]]}),t})()}}]);