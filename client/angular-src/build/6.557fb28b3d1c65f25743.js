(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{WuFp:function(t,e,o){"use strict";o.r(e),o.d(e,"PostModule",(function(){return G}));var s=o("ofXK"),n=o("l7P3");const c=Object(n.n)("[Post List Component] Load Posts"),r=Object(n.n)("[Post List Effect] Load Posts Success",Object(n.s)()),b=Object(n.n)("[Post List Effect] Load Posts Failure",Object(n.s)()),i=Object(n.n)("[Post Component] Load Post",Object(n.s)()),p=Object(n.n)("[Post Effect] Load Post Success",Object(n.s)()),a=Object(n.n)("[Post Effect] Load Post Failure",Object(n.s)()),d=Object(n.n)("[Post Add Component] Add Post",Object(n.s)()),l=Object(n.n)("[Post Add Effect] Add Post Success",Object(n.s)()),u=Object(n.n)("[Post Add Effect] Add Post Failure",Object(n.s)()),O=Object(n.n)("[Post Edit Component] Update Post",Object(n.s)()),h=Object(n.n)("[Post Components] Delete Post",Object(n.s)()),j=Object(n.n)("[Post Components] Clear Posts");var f=o("R0sL");const g="posts",m=Object(f.a)({selectId:function(t){return t.ROWID}}),P=m.getInitialState({selectedPost:void 0,error:void 0}),y=Object(n.p)(P,Object(n.r)(l,(t,e)=>m.addOne(e.post,t)),Object(n.r)(u,(t,e)=>Object.assign(Object.assign({},t),{error:e.error})),Object(n.r)(r,(t,e)=>m.setAll(e.posts,t)),Object(n.r)(b,(t,e)=>Object.assign(Object.assign({},t),{error:e.error})),Object(n.r)(p,(t,e)=>Object.assign(Object.assign({},t),{selectedPost:e.selectedPost})),Object(n.r)(a,(t,e)=>Object.assign(Object.assign({},t),{error:e.error})),Object(n.r)(O,(t,e)=>m.updateOne(e.post,t)),Object(n.r)(h,(t,e)=>m.removeOne(e.ROWID,t)),Object(n.r)(j,t=>m.removeAll(t))),{selectAll:v}=m.getSelectors(),J=Object(n.o)(g),K=Object(n.q)(J,v),R=Object(n.q)(J,t=>t.selectedPost);var C=o("fXoL"),I=o("3Pt+"),M=o("tyNb");const S=function(t){return["/post/posts",t]};let D=(()=>{class t{constructor(){this.deletePost=new C.n}ngOnInit(){}onDeletePost(t){this.deletePost.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C.Bb({type:t,selectors:[["app-post-items"]],inputs:{post:"post"},outputs:{deletePost:"deletePost"},decls:10,vars:5,consts:[[1,"container-fluid","post"],[1,"btn-group","mb-3"],["type","button",1,"btn","btn-primary","ml-3",3,"routerLink"],["type","button",1,"btn","btn-danger","ml-3",3,"click"]],template:function(t,e){1&t&&(C.Kb(0,"div",0),C.Kb(1,"h3"),C.ec(2),C.Jb(),C.Kb(3,"p"),C.ec(4),C.Jb(),C.Kb(5,"div",1),C.Kb(6,"button",2),C.ec(7," Edit "),C.Jb(),C.Kb(8,"button",3),C.Rb("click",(function(){return e.onDeletePost(e.post)})),C.ec(9," Delete "),C.Jb(),C.Jb(),C.Jb()),2&t&&(C.xb(2),C.fc(e.post.title),C.xb(2),C.fc(e.post.body),C.xb(2),C.Xb("routerLink",C.Yb(3,S,e.post.ROWID)))},directives:[M.c],styles:[".post[_ngcontent-%COMP%]{width:70%;margin:15px auto 0;background:#c5c5c5;border:thin solid #888787}"]}),t})();function k(t,e){if(1&t){const t=C.Lb();C.Kb(0,"app-post-items",9),C.Rb("deletePost",(function(e){return C.ac(t),C.Tb().deletePost(e)})),C.Jb()}2&t&&C.Xb("post",e.$implicit)}let w=(()=>{class t{constructor(t){this.store=t,this.loadPosts()}ngOnInit(){}loadPosts(){void 0===this.posts$&&this.store.dispatch(c()),this.store.pipe(Object(n.t)(K)).subscribe(t=>{this.posts$=t,console.log(t)})}onSubmit(){this.store.dispatch(d({post:{title:this.title,body:this.body}}))}deletePost(t){this.store.dispatch(h({ROWID:t.ROWID}))}trackById(t,e){return e.ROWID}}return t.\u0275fac=function(e){return new(e||t)(C.Hb(n.h))},t.\u0275cmp=C.Bb({type:t,selectors:[["app-posts"]],decls:16,vars:5,consts:[[1,"mt-5","post-form",3,"ngSubmit"],[1,"form-group"],["for","usr"],["type","text","id","usr","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","usr","name","body","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],[1,"post-head","mt-5"],[1,"mt-3","text-center"],["class","mt-5",3,"post","deletePost",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-5",3,"post","deletePost"]],template:function(t,e){1&t&&(C.Kb(0,"form",0),C.Rb("ngSubmit",(function(){return e.onSubmit()})),C.Kb(1,"div",1),C.Kb(2,"label",2),C.ec(3,"Title:"),C.Jb(),C.Kb(4,"input",3),C.Rb("ngModelChange",(function(t){return e.title=t})),C.Jb(),C.Jb(),C.Kb(5,"div",1),C.Kb(6,"label",2),C.ec(7,"Post:"),C.Jb(),C.Kb(8,"input",4),C.Rb("ngModelChange",(function(t){return e.body=t})),C.Jb(),C.Jb(),C.Kb(9,"button",5),C.ec(10,"Add Post"),C.Jb(),C.Jb(),C.Kb(11,"h1",6),C.ec(12,"Posts"),C.Jb(),C.Kb(13,"h3",7),C.ec(14),C.Jb(),C.dc(15,k,1,1,"app-post-items",8)),2&t&&(C.xb(4),C.Xb("ngModel",e.title),C.xb(4),C.Xb("ngModel",e.body),C.xb(6),C.fc(e.loadingState),C.xb(1),C.Xb("ngForOf",e.posts$)("ngForTrackBy",e.trackById))},directives:[I.k,I.d,I.e,I.a,I.h,I.c,I.f,s.i,D],styles:[".post-form[_ngcontent-%COMP%], .post-head[_ngcontent-%COMP%]{width:70%;margin:0 auto}"]}),t.\u0275prov=C.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class x{}const $=[{path:"posts/:ROWID",component:(()=>{class t{constructor(t,e,o){this.store=t,this.router=e,this.route=o}ngOnInit(){this.store.dispatch(i({ROWID:this.route.snapshot.paramMap.get("ROWID")})),this.store.pipe(Object(n.t)(R)).subscribe(t=>{this.post=Object.assign(new x,t),console.log(this.post)})}onSubmit(){this.store.dispatch(O({post:{id:this.post.ROWID,changes:this.post}}))}}return t.\u0275fac=function(e){return new(e||t)(C.Hb(n.h),C.Hb(M.b),C.Hb(M.a))},t.\u0275cmp=C.Bb({type:t,selectors:[["app-edit-post"]],decls:11,vars:2,consts:[[1,"mt-5","post-form",3,"ngSubmit"],[1,"form-group"],["for","usr"],["type","text","id","usr","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","usr","name","body","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"]],template:function(t,e){1&t&&(C.Kb(0,"form",0),C.Rb("ngSubmit",(function(){return e.onSubmit()})),C.Kb(1,"div",1),C.Kb(2,"label",2),C.ec(3,"Title:"),C.Jb(),C.Kb(4,"input",3),C.Rb("ngModelChange",(function(t){return e.post.title=t})),C.Jb(),C.Jb(),C.Kb(5,"div",1),C.Kb(6,"label",2),C.ec(7,"Post:"),C.Jb(),C.Kb(8,"input",4),C.Rb("ngModelChange",(function(t){return e.post.body=t})),C.Jb(),C.Jb(),C.Kb(9,"button",5),C.ec(10,"Add Post"),C.Jb(),C.Jb()),2&t&&(C.xb(4),C.Xb("ngModel",e.post.title),C.xb(4),C.Xb("ngModel",e.post.body))},directives:[I.k,I.d,I.e,I.a,I.h,I.c,I.f],styles:[""]}),t})()},{path:"posts",component:w}];let L=(()=>{class t{}return t.\u0275mod=C.Fb({type:t}),t.\u0275inj=C.Eb({factory:function(e){return new(e||t)},imports:[[M.f.forChild($)],M.f]}),t})();var F=o("9jGm"),W=o("mrSG"),A=o("5+tZ"),E=o("lJxs"),X=o("JIr8"),B=o("bOdf"),q=o("vkgz"),T=o("LRne"),H=o("fChd");let _=(()=>{class t{constructor(t,e,o,s){this.actions$=t,this.postService=e,this.router=o,this.postsComp=s,this.loadPosts$=Object(F.d)(()=>this.actions$.pipe(Object(F.e)(c),Object(A.a)(t=>this.postService.getPosts().pipe(Object(E.a)(t=>r({posts:t.listArr})),Object(X.a)(t=>Object(T.a)(b({error:t.error}))))))),this.addPost$=Object(F.d)(()=>this.actions$.pipe(Object(F.e)(d),Object(A.a)(t=>this.postService.addPost(t.post).pipe(Object(E.a)(t=>l({post:t.postData})),Object(X.a)(t=>Object(T.a)(u({error:t.error}))))))),this.loadPost$=Object(F.d)(()=>this.actions$.pipe(Object(F.e)(i),Object(A.a)(t=>this.postService.getPost(t.ROWID).pipe(Object(E.a)(t=>p({selectedPost:t.selectedPost})),Object(X.a)(t=>Object(T.a)(a({error:t.error}))))))),this.updatePost$=Object(F.d)(()=>this.actions$.pipe(Object(F.e)(O),Object(B.a)(t=>this.postService.updatePost(t.post.id,t.post.changes)),Object(q.a)(()=>this.router.navigate(["/post/posts"]),t=>console.log(t),()=>console.log("completed"))),{dispatch:!1}),this.deletePost$=Object(F.d)(()=>this.actions$.pipe(Object(F.e)(h),Object(B.a)(t=>this.postService.deletePost(t.ROWID))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(C.Ob(F.a),C.Ob(H.a),C.Ob(M.b),C.Ob(w))},t.\u0275prov=C.Db({token:t,factory:t.\u0275fac}),Object(W.a)([Object(F.b)()],t.prototype,"loadPosts$",void 0),t})(),G=(()=>{class t{}return t.\u0275mod=C.Fb({type:t}),t.\u0275inj=C.Eb({factory:function(e){return new(e||t)},providers:[H.a],imports:[[s.c,L,I.b,n.j.forFeature(g,y),F.c.forFeature([_])]]}),t})()}}]);